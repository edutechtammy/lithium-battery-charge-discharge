<!DOCTYPE html>
<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="authoring-tool" content="Adobe_Animate_CC">
<title>Interactive Battery Charge and Discharge Animation</title>
<link rel="stylesheet" href="styles.css">
<!-- write your code here -->
<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
<script src="Battery_WheelSlider.js?1604264336627"></script>
<script src="accessibility.js"></script>
<script>
var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;

function init() {
	canvas = document.getElementById("canvas");
	anim_container = document.getElementById("animation_container");
	dom_overlay_container = document.getElementById("dom_overlay_container");
	var comp=AdobeAn.getComposition("D23673CD031C41E3A8D95A73CFD73AF0");
	var lib_06_05_DryCells=comp.getLibrary();
	handleComplete({},comp);
}

function handleComplete(evt,comp) {
	//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
	var lib_06_05_DryCells=comp.getLibrary();
	var ss=comp.getSpriteSheet();
	exportRoot = new lib_06_05_DryCells.Battery_WheelSlider();
	stage = new lib_06_05_DryCells.Stage(canvas);	
	//Registers the "tick" event listener.
	fnStartAnimation = function() {
		stage.addChild(exportRoot);
		createjs.Ticker.framerate = lib_06_05_DryCells.properties.fps;
		createjs.Ticker.addEventListener("tick", stage);
	}	    
	//Code to support hidpi screens and responsive scaling.
	AdobeAn.makeResponsive(true,'both',false,1,[canvas,anim_container,dom_overlay_container]);	
	AdobeAn.compositionLoaded(lib_06_05_DryCells.properties.id);
	fnStartAnimation();
	
	// Initialize accessibility features
	initializeAccessibility();
}
</script>
<!-- write your code here -->
</head>
<body onload="init();" style="margin:0px;">
	<!-- Skip Navigation -->
	<a href="#main-content" class="sr-only">Skip to main content</a>
	
	<!-- Main Content -->
	<main id="main-content">
		<h1 class="sr-only">Interactive Battery Charge and Discharge Animation</h1>
		
		<!-- Animation Description for Screen Readers -->
		<div id="animation-description" class="sr-only">
			<h2>Interactive Battery Animation</h2>
			<p>This animation demonstrates how lithium-ion batteries work during charging and discharging cycles. 
			   Use the slider to control the animation and see:</p>
			<ul>
				<li>Lithium ions moving between the anode and cathode</li>
				<li>An electric car that moves during discharge and stops during charging</li>
				<li>A battery level gauge showing current charge state</li>
				<li>A charging station that appears during charging phases</li>
			</ul>
		</div>

		<!-- Educational Content -->
			</div>
		</div>

		<!-- Canvas Animation -->
		<div id="animation_container" style="background-color:#fff8e1; width:929px; height:652px">
			<canvas id="canvas" width="929" height="652" style="position: absolute; display: block; background-color:#fff8e1;" 
					role="application" 
					tabindex="0"
					aria-label="Interactive battery animation with wheel slider control. Use arrow keys to control animation, space to play/pause."
					aria-describedby="animation-description current-state keyboard-instructions">
			</canvas>
			<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:929px; height:652px; position: absolute; left: 0px; top: 0px; display: block;">
			</div>
		</div>

		<!-- Current State Display -->
		<div id="current-state" aria-live="polite" aria-atomic="true">
			Ready to start - Discharge phase: 0% through animation
		</div>

		<!-- Educational Content -->
		<details id="educational-content">
			<summary>Educational Information and Glossary</summary>
			<div>
				<h3>How This Animation Works</h3>
				<p>This interactive animation shows the fundamental processes that occur inside a lithium-ion battery during charging and discharging cycles. Move the wheel on the right to explore the animation closely and see different phases of operation that correspond to how electric vehicles and portable devices use battery power.</p>
				
				<h3>What You'll See</h3>
				<ul>
					<li><strong>Discharge Phase (First Half):</strong> The car moves and the battery powers the vehicle. Lithium ions move from anode to cathode.</li>
					<li><strong>Charge Phase (Second Half):</strong> The car stops at a charging station. The process reverses as the battery stores energy.</li>
					<li><strong>Battery Gauge:</strong> Shows the current charge level throughout the cycle.</li>
					<li><strong>Ion Movement:</strong> Lithium ions (Li+) visibly move between the electrodes.</li>
				</ul>
				
				<h3>Glossary</h3>
				<dl>
					<dt>Anode</dt>
					<dd>The negative electrode of the battery where electrons are released during discharge. In lithium-ion batteries, this is typically made of graphite.</dd>
					
					<dt>Cathode</dt>
					<dd>The positive electrode of the battery where electrons are received during discharge. Usually made of lithium metal oxide compounds.</dd>
					
					<dt>Lithium Ion (Li+)</dt>
					<dd>Charged particles that move between electrodes to create electrical current. These ions carry the charge that powers your devices.</dd>
					
					<dt>Charging</dt>
					<dd>Process of storing electrical energy in the battery by reversing the discharge reaction. External power forces ions back to the anode.</dd>
					
					<dt>Discharging</dt>
					<dd>Process of releasing stored electrical energy from the battery to power devices. Ions flow from anode to cathode through the electrolyte.</dd>
					
					<dt>Electrolyte</dt>
					<dd>The medium between the anode and cathode that allows ions to move while preventing direct electrical contact between electrodes.</dd>
				</dl>
				
				<h3>Real-World Applications</h3>
				<p>This same process powers:</p>
				<ul>
					<li>Electric vehicles (like Tesla, BMW i3, Nissan Leaf)</li>
					<li>Smartphones and tablets</li>
					<li>Laptop computers</li>
					<li>Power tools</li>
					<li>Energy storage systems for homes and businesses</li>
				</ul>
			</div>
		</details>

		<!-- Accessibility Controls -->
		<details id="accessibility-controls" aria-label="Accessibility Controls">
			<summary>Accessibility</summary>
			<div>
				<fieldset>
					<legend>Animation Preferences</legend>
					<label>
						<input type="checkbox" id="reduce-motion"> 
						Reduce motion (disable automatic animations)
					</label>
					<label>
						<input type="checkbox" id="pause-animation">
						Pause animation
					</label>
					<label>
						<input type="checkbox" id="high-contrast">
						High contrast mode
					</label>
				</fieldset>
				
				<button id="play-pause-btn" aria-pressed="false">Play Animation</button>
				
				<div id="keyboard-instructions">
					<h3>Keyboard Controls</h3>
					<p>Click on the animation to focus, then use:</p>
					<ul>
						<li><strong>Arrow Left/Right:</strong> Move wheel slider backward/forward</li>
						<li><strong>Home:</strong> Go to start of animation</li>
						<li><strong>End:</strong> Go to end of animation</li>
						<li><strong>Space:</strong> Play/pause animation</li>
					</ul>
				</div>
			</div>
		</details>

		<!-- Detailed Description for Screen Readers -->
		<div id="detailed-description" class="sr-only">
			<h3>Current Animation State</h3>
			<div id="state-description" aria-live="assertive">Ready to begin battery animation demonstration</div>
			<div id="battery-level" aria-live="polite">Battery level: Not started</div>
			<div id="car-status" aria-live="polite">Electric car: Ready to start</div>
			<div id="charging-status" aria-live="polite">Charging station: Not active</div>
		</div>
	</main>
</body>
</html>